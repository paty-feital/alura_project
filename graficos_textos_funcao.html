<canvas width="600" height="400"></canvas>

<script>

    function desenhaRetangulo(x, y, largura, altura, cor) {
        var tela = document.querySelector('canvas');
        var pincel = tela.getContext('2d');

        pincel.fillStyle=cor;
        pincel.fillRect(x,y, largura, altura);
        pincel.strokeStyle='black';
        pincel.strokeRect(x,y, largura, altura);
    }

    function desenhaTexto(x, y, texto) {
        var tela = document.querySelector('canvas');
        var pincel = tela.getContext('2d');

        pincel.font='15px Georgia';
        pincel.fillStyle='black';
        pincel.fillText(texto, x, y);    
    }

    // aqui vem mais

    function desenhaBarra(x, y, largura, serie, cores, texto) {

        var posicao = 0;
        var espacoX = 60;
        var espacoY = 9;
        var espacoT = 5;

        desenhaTexto((x+espacoT), y-10, texto);

        while(posicao < serie.length) {

            desenhaRetangulo(x, y, largura, serie[posicao], cores[posicao]);
            desenhaTexto((x+espacoX), (y+espacoY), serie[posicao]+'%');
            y = y + serie[posicao];
            posicao++
        }
    }

        var serie2015 = [50, 25, 20, 5];
        var serie2016 = [65, 20, 13, 2];
        var cores = ['blue', 'green', 'yellow', 'red'];
        var x = 50
        var y = 50
        var largura = 50

        desenhaBarra(x, y, largura, serie2015, cores, '2015');

        x = x+x*2
        desenhaBarra(x, y, largura, serie2016, cores, '2016');

</script>